CREATE DATABASE blogDB;

CREATE TABLE roles (
    rolId SERIAL PRIMARY KEY,
    rol VARCHAR(50) NOT NULL
);

CREATE TABLE usuarios (
    usuarioId SERIAL PRIMARY KEY,
    rolId INT NOT NULL,
    nombreUsuario VARCHAR(50) NOT NULL,
    clave VARCHAR(100) NOT NULL,
    nombre VARCHAR(50) NOT NULL,
    apellido VARCHAR(50) NOT NULL,
    FOREIGN KEY (rolId) REFERENCES roles(rolId)
);

CREATE TABLE publicaciones (
    publicacionId SERIAL PRIMARY KEY,
    titulo VARCHAR(100) NOT NULL,
    descripcion VARCHAR(300),
    usuarioId INT NOT NULL,
    FOREIGN KEY (usuarioId) REFERENCES usuarios(usuarioId)
);

CREATE TABLE comentarios (
    comentarioId SERIAL PRIMARY KEY,
    publicacionId INT NOT NULL,
    comentario VARCHAR(255) NOT NULL,
    usuarioId INT NOT NULL,
    FOREIGN KEY (publicacionId) REFERENCES publicaciones(publicacionId),
    FOREIGN KEY (usuarioId) REFERENCES usuarios(usuarioId)
);

CREATE TABLE calificaciones (
    calificacionId SERIAL PRIMARY KEY,
    publicacionId INT NOT NULL,
    usuarioId INT NOT NULL,
    calificacion INT NOT NULL,
    FOREIGN KEY (publicacionId) REFERENCES publicaciones(publicacionId),
    FOREIGN KEY (usuarioId) REFERENCES usuarios(usuarioId)
);

INSERT INTO roles (rol) VALUES ('Administrador');
INSERT INTO roles (rol) VALUES ('Editor');
INSERT INTO roles (rol) VALUES ('Lector');

SELECT * FROM roles;
SELECT * FROM usuarios;
SELECT * FROM publicaciones;
SELECT * FROM comentarios;
SELECT * FROM calificaciones;

INSERT INTO usuarios (rolId, nombreUsuario, clave, nombre, apellido)
VALUES (1, 'admin1', 'clave123', 'Marcelo', 'Rivera');
INSERT INTO usuarios (rolId, nombreUsuario, clave, nombre, apellido) 
VALUES (2, 'editor1', 'clave123', 'Victor', 'Mira');
INSERT INTO usuarios (rolId, nombreUsuario, clave, nombre, apellido) 
VALUES (3, 'lector1', 'clave123', 'Luis', 'Centeno');
INSERT INTO usuarios (rolId, nombreUsuario, clave, nombre, apellido) 
VALUES (2, 'editor2', 'clave123', 'Diego', 'Lopez');
INSERT INTO usuarios (rolId, nombreUsuario, clave, nombre, apellido) 
VALUES (3, 'lector2', 'clave123', 'Jose', 'Rodriguez');

INSERT INTO publicaciones (titulo, descripcion, usuarioId) 
VALUES ('Bienvenida al Blog', 'Este es el primer post de prueba', 1);
INSERT INTO publicaciones (titulo, descripcion, usuarioId) 
VALUES ('Novedades Tecnológicas', 'Últimas tendencias en programación', 2);
INSERT INTO publicaciones (titulo, descripcion, usuarioId) 
VALUES ('Lecturas Recomendadas', 'Reseñas de libros de interés', 2);
INSERT INTO publicaciones (titulo, descripcion, usuarioId) 
VALUES ('Viajes y Cultura', 'Experiencias alrededor del mundo', 4);
INSERT INTO publicaciones (titulo, descripcion, usuarioId) 
VALUES ('Opinión del Día', 'Reflexiones y análisis de actualidad', 3);

INSERT INTO comentarios (publicacionId, comentario, usuarioId) 
VALUES (1, 'Excelente inicio para el blog!', 3);
INSERT INTO comentarios (publicacionId, comentario, usuarioId) 
VALUES (2, 'Muy útil la información tecnológica.', 5);
INSERT INTO comentarios (publicacionId, comentario, usuarioId) 
VALUES (3, 'Me apunto esas lecturas.', 3);
INSERT INTO comentarios (publicacionId, comentario, usuarioId) 
VALUES (4, 'Qué interesante experiencia!', 5);
INSERT INTO comentarios (publicacionId, comentario, usuarioId) 
VALUES (5, 'Me encantó la reflexión.', 4);

INSERT INTO calificaciones (publicacionId, usuarioId, calificacion) 
VALUES (1, 3, 5);
INSERT INTO calificaciones (publicacionId, usuarioId, calificacion) 
VALUES (2, 5, 4);
INSERT INTO calificaciones (publicacionId, usuarioId, calificacion) 
VALUES (3, 3, 5);
INSERT INTO calificaciones (publicacionId, usuarioId, calificacion) 
VALUES (4, 5, 4);
INSERT INTO calificaciones (publicacionId, usuarioId, calificacion) 
VALUES (5, 4, 3);